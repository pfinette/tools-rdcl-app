<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Golden Ratio Font Scale</title>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        margin: 0;
        padding: 2rem;
        background: #0f172a;
        color: #e5e7eb;
      }

      h1 {
        margin-top: 0;
        margin-bottom: 1rem;
        font-size: 1.8rem;
        color: #fbbf24;
      }

      .app {
        max-width: 700px;
        margin: 0 auto;
        background: #020617;
        border-radius: 0.75rem;
        padding: 1.5rem 1.75rem 2rem;
        box-shadow: 0 18px 40px rgba(15, 23, 42, 0.8);
        border: 1px solid #1e293b;
      }

      .row {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        align-items: flex-end;
        margin-bottom: 1.5rem;
      }

      .field {
        display: flex;
        flex-direction: column;
        flex: 1 1 140px;
      }

      label {
        font-size: 0.85rem;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        color: #9ca3af;
        margin-bottom: 0.35rem;
      }

      input[type="number"] {
        padding: 0.5rem 0.65rem;
        border-radius: 0.5rem;
        border: 1px solid #1f2937;
        background: #020617;
        color: #e5e7eb;
        font-size: 0.95rem;
        outline: none;
        transition:
          border-color 0.15s,
          box-shadow 0.15s;
      }

      input[type="number"]:focus {
        border-color: #38bdf8;
        box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.5);
      }

      select {
        padding: 0.5rem 0.65rem;
        border-radius: 0.5rem;
        border: 1px solid #1f2937;
        background: #020617;
        color: #e5e7eb;
        font-size: 0.95rem;
        outline: none;
      }

      button {
        padding: 0.6rem 1rem;
        border-radius: 999px;
        border: none;
        background: #38bdf8;
        color: #0b1120;
        font-weight: 600;
        font-size: 0.95rem;
        cursor: pointer;
        transition:
          background 0.15s,
          transform 0.08s,
          box-shadow 0.15s;
        box-shadow: 0 10px 25px rgba(56, 189, 248, 0.3);
      }

      button:hover {
        background: #0ea5e9;
      }

      button:active {
        transform: translateY(1px);
        box-shadow: 0 6px 14px rgba(56, 189, 248, 0.35);
      }

      .hint {
        font-size: 0.8rem;
        color: #6b7280;
        margin-top: 0.25rem;
      }

      .results {
        margin-top: 1.5rem;
        border-top: 1px solid #1e293b;
        padding-top: 1.25rem;
      }

      .results-header {
        font-size: 0.9rem;
        color: #9ca3af;
        margin-bottom: 0.75rem;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.9rem;
      }

      thead {
        background: #020617;
      }

      th,
      td {
        border-bottom: 1px solid #1f2937;
        padding: 0.55rem 0.4rem;
        text-align: left;
        white-space: nowrap;
      }

      th {
        font-weight: 600;
        color: #9ca3af;
        font-size: 0.8rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
      }

      tbody tr:nth-child(even) td {
        background: #020617;
      }

      .sample-text {
        font-weight: 500;
        white-space: normal;
      }

      .tag-base {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        font-size: 0.8rem;
        padding: 0.15rem 0.5rem;
        border-radius: 999px;
        border: 1px solid #4b5563;
        color: #d1d5db;
        background: #020617;
      }

      .tag-step-up {
        border-color: #22c55e;
        color: #bbf7d0;
      }

      .tag-step-down {
        border-color: #f97316;
        color: #fed7aa;
      }

      .tag-index {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 1.1rem;
        height: 1.1rem;
        border-radius: 999px;
        font-size: 0.7rem;
        font-weight: 600;
        background: rgba(148, 163, 184, 0.16);
      }

      .error {
        margin-top: 0.5rem;
        font-size: 0.85rem;
        color: #fecaca;
      }

      .equation {
        margin-top: 0.75rem;
        font-size: 0.85rem;
        color: #9ca3af;
        font-family:
          "SF Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      }

      @media (max-width: 600px) {
        body {
          padding: 1rem;
        }

        .app {
          padding: 1.25rem;
        }

        th:nth-child(4),
        td:nth-child(4) {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="app">
      <h1>Golden Ratio Font Scale</h1>

      <div class="row">
        <div class="field">
          <label for="baseSize">Base font size</label>
          <input id="baseSize" type="number" min="0.1" step="0.1" value="16" />
          <div class="hint">Any positive number. Common body size is 16.</div>
        </div>

        <div class="field">
          <label for="unit">Unit</label>
          <select id="unit">
            <option value="px" selected>px</option>
            <option value="rem">rem</option>
            <option value="em">em</option>
          </select>
          <div class="hint">The same unit will be used for all calculated sizes.</div>
        </div>

        <button id="calcBtn" type="button">Calculate golden scale</button>
      </div>

      <div id="error" class="error" style="display: none"></div>

      <div class="equation">φ (phi, golden ratio) ≈ 1.618 Up step: size × φ Down step: size ÷ φ</div>

      <div class="results" id="results" style="display: none">
        <div class="results-header">Four steps up and four steps down from the base using the golden ratio.</div>
        <table>
          <thead>
            <tr>
              <th>Level</th>
              <th>Size</th>
              <th>Factor from base</th>
              <th>Sample text</th>
            </tr>
          </thead>
          <tbody id="resultsBody"></tbody>
        </table>
      </div>
    </div>

    <script>
      (function () {
        "use strict";

        var PHI = (1 + Math.sqrt(5)) / 2;

        var baseInput = document.getElementById("baseSize");
        var unitSelect = document.getElementById("unit");
        var calcBtn = document.getElementById("calcBtn");
        var errorEl = document.getElementById("error");
        var resultsEl = document.getElementById("results");
        var resultsBody = document.getElementById("resultsBody");

        function formatNumber(value) {
          if (value >= 100) {
            return value.toFixed(0);
          }
          if (value >= 10) {
            return value.toFixed(1);
          }
          return value.toFixed(2);
        }

        function formatFactor(factor) {
          if (Math.abs(factor - 1) < 0.0001) {
            return "1.00×";
          }
          return factor.toFixed(3) + "×";
        }

        function labelForStep(step) {
          if (step === 0) {
            return "Base";
          }
          if (step > 0) {
            return "Step +" + step;
          }
          return "Step " + step;
        }

        function sampleForStep(step) {
          if (step === 0) {
            return "Base body text";
          }
          if (step === 1) {
            return "Section heading";
          }
          if (step === 2) {
            return "Page heading";
          }
          if (step === 3) {
            return "Hero title";
          }
          if (step === 4) {
            return "Display title";
          }
          if (step === -1) {
            return "Small text";
          }
          if (step === -2) {
            return "Caption";
          }
          if (step === -3) {
            return "Meta / note";
          }
          if (step === -4) {
            return "Fine print";
          }
          return "";
        }

        function clearError() {
          errorEl.style.display = "none";
          errorEl.textContent = "";
        }

        function showError(message) {
          errorEl.style.display = "block";
          errorEl.textContent = message;
        }

        function calculateScale() {
          clearError();

          var baseValue = parseFloat(baseInput.value);
          var unit = unitSelect.value;

          if (isNaN(baseValue)) {
            showError("Enter a numeric base font size.");
            resultsEl.style.display = "none";
            return;
          }

          if (baseValue <= 0) {
            showError("Base font size must be greater than zero.");
            resultsEl.style.display = "none";
            return;
          }

          var rows = [];
          for (var step = -4; step <= 4; step++) {
            var factor = Math.pow(PHI, step);
            var size = baseValue * factor;
            rows.push({
              step: step,
              label: labelForStep(step),
              size: size,
              factor: factor,
              sample: sampleForStep(step),
            });
          }

          resultsBody.innerHTML = "";

          rows.forEach(function (row) {
            var tr = document.createElement("tr");

            var levelCell = document.createElement("td");
            var tag = document.createElement("span");
            tag.className = "tag-base";

            if (row.step > 0) {
              tag.className += " tag-step-up";
            } else if (row.step < 0) {
              tag.className += " tag-step-down";
            }

            var badge = document.createElement("span");
            badge.className = "tag-index";
            badge.textContent = row.step === 0 ? "0" : row.step > 0 ? "+" + row.step : row.step;

            var labelSpan = document.createElement("span");
            labelSpan.textContent = row.label;

            tag.appendChild(badge);
            tag.appendChild(labelSpan);
            levelCell.appendChild(tag);

            var sizeCell = document.createElement("td");
            sizeCell.textContent = formatNumber(row.size) + unit;

            var factorCell = document.createElement("td");
            factorCell.textContent = formatFactor(row.factor);

            var sampleCell = document.createElement("td");
            sampleCell.className = "sample-text";
            sampleCell.textContent = row.sample;
            sampleCell.style.fontSize = formatNumber(row.size) + unit;

            tr.appendChild(levelCell);
            tr.appendChild(sizeCell);
            tr.appendChild(factorCell);
            tr.appendChild(sampleCell);

            resultsBody.appendChild(tr);
          });

          resultsEl.style.display = "block";
        }

        calcBtn.addEventListener("click", calculateScale);

        baseInput.addEventListener("keydown", function (e) {
          if (e.key === "Enter") {
            calculateScale();
          }
        });

        calculateScale();
      })();
    </script>
  </body>
</html>
